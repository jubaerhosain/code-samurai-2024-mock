// implement caching after preliminary rounds